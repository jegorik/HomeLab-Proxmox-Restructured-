# =============================================================================
# LXC Grafana - Example terraform.tfvars
# =============================================================================
# Copy this file to terraform.tfvars and fill in your values.
# DO NOT commit terraform.tfvars to version control!

# -----------------------------------------------------------------------------
# Vault Configuration
# -----------------------------------------------------------------------------

vault_address = "https://vault.example.com:8200"
vault_username = "tofu_admin"
# vault_password = ""  # Set via TF_VAR_vault_password environment variable

proxmox_api_token_vault_path     = "proxmox/api_token"
proxmox_endpoint_vault_path      = "proxmox/endpoint"
proxmox_node_name_vault_path     = "proxmox/node_name"
proxmox_user_name_vault_path     = "proxmox/username"
proxmox_root_name_vault_path     = "proxmox/root_username"
proxmox_root_password_vault_path = "proxmox/root_password"
s3_bucket_name_vault_path        = "aws/s3_bucket"
root_ssh_public_key_path         = "ssh/root_public_key"
root_ssh_private_key_path        = "ssh/root_private_key"

# -----------------------------------------------------------------------------
# AWS Configuration
# -----------------------------------------------------------------------------

aws_region = "us-east-1"

# -----------------------------------------------------------------------------
# NetBox Configuration
# -----------------------------------------------------------------------------

netbox_url               = "https://netbox.example.com"
netbox_api_token_vault_path = "netbox/api_token"

site_name    = "site_01"
cluster_name = "cluster_01"
vrf_name     = "vrf_01"
tenant_name  = "tenant_01"

# -----------------------------------------------------------------------------
# LXC Container Configuration
# -----------------------------------------------------------------------------

lxc_id          = 106
lxc_hostname    = "grafana"
lxc_description = "Grafana Observability Platform - Managed by OpenTofu"
lxc_tags        = ["lxc", "grafana", "monitoring", "tofu-managed"]

lxc_template_file = "debian-13-standard_13.1-2_amd64.tar.zst"
lxc_start_on_boot = true
lxc_started       = true
lxc_unprivileged  = true

# -----------------------------------------------------------------------------
# Hardware Resources
# -----------------------------------------------------------------------------

lxc_memory      = 1024  # MB (1GB recommended for Grafana)
lxc_swap        = 512   # MB
lxc_cpu_cores   = 2
lxc_disk_size   = 10    # GB
lxc_disk_storage = "local-lvm"

# -----------------------------------------------------------------------------
# Data Persistence (Bind Mounts)
# -----------------------------------------------------------------------------

lxc_grafana_data_mount_volume = "/rpool/data/grafana"
lxc_grafana_data_mount_path   = "/var/lib/grafana"

# Service user UID/GID (maps to 100900 on host in unprivileged mode)
service_user_uid = 900
service_user_gid = 900

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------

lxc_network_bridge = "vmbr0"
lxc_ip_address     = "192.0.2.106/24"
lxc_gateway        = "192.0.2.1"
lxc_dns_servers    = "8.8.8.8 8.8.4.4"

# -----------------------------------------------------------------------------
# Ansible User
# -----------------------------------------------------------------------------

ansible_user_name           = "ansible"
ansible_ssh_public_key_path = "~/.ssh/ansible_rsa.pub"

# -----------------------------------------------------------------------------
# Encryption
# -----------------------------------------------------------------------------

transit_engine_path = "transit"
transit_key_name    = "tofu-state-encryption"
