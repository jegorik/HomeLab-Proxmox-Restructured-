# =============================================================================
# LXC PBS - Example terraform.tfvars
# =============================================================================
# Copy this file to terraform.tfvars and fill in your values.
# DO NOT commit terraform.tfvars to version control!

# -----------------------------------------------------------------------------
# Vault Configuration
# -----------------------------------------------------------------------------

vault_address = "https://vault.example.com:8200"
# vault_token = ""  # Leave empty to use VAULT_TOKEN env var

vault_pve_secret_path          = "proxmox/root"
vault_netbox_secret_path       = "netbox/api"
proxmox_api_token_vault_path   = "proxmox/api_token"
proxmox_endpoint_vault_path    = "proxmox/endpoint"
proxmox_node_name_vault_path   = "proxmox/node_name"
proxmox_user_name_vault_path   = "proxmox/username"
proxmox_root_name_vault_path   = "proxmox/root_username"
proxmox_root_password_vault_path = "proxmox/root_password"
s3_bucket_name_vault_path      = "aws/s3_bucket"
root_ssh_public_key_path       = "ssh/root_public_key"
root_ssh_private_key_path      = "ssh/root_private_key"

# -----------------------------------------------------------------------------
# AWS Configuration
# -----------------------------------------------------------------------------

aws_region = "us-east-1"

# -----------------------------------------------------------------------------
# NetBox Configuration
# -----------------------------------------------------------------------------

netbox_url = "https://netbox.example.com"
# netbox_api_token = ""  # Leave empty to fetch from Vault

site_name    = "site_01"
cluster_name = "cluster_01"
vrf_name     = "vrf_01"
tenant_name  = "tenant_01"

# -----------------------------------------------------------------------------
# LXC Container Configuration
# -----------------------------------------------------------------------------

# -----------------------------------------------------------------------------
# LXC Container Configuration
# -----------------------------------------------------------------------------

lxc_id          = 110
lxc_hostname    = "proxmox-backup-server"
lxc_description = "Proxmox Backup Server - Managed by OpenTofu"
# lxc_template_file = "debian-12-standard_12.7-1_amd64.tar.zst"

lxc_start_on_boot = true
lxc_started       = true
lxc_unprivileged  = true  # Recommended for security

# -----------------------------------------------------------------------------
# Hardware Resources
# -----------------------------------------------------------------------------

lxc_memory    = 2048  # MB
lxc_swap      = 512   # MB
lxc_cpu_cores = 2
lxc_disk_size = 32     # GB
lxc_disk_storage = "local-lvm"

# -----------------------------------------------------------------------------
# Data Persistence (Bind Mounts)
# -----------------------------------------------------------------------------

lxc_pbs_config_mount_volume    = "/rpool/data/pbs-config"
lxc_pbs_datastore_mount_volume = "/rpool/data/pbs-backups"

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------

lxc_network_bridge  = "vmbr0"
lxc_ip_address      = "192.0.2.110/24"
lxc_gateway         = "192.0.2.1"
lxc_dns_servers     = "8.8.8.8"

# -----------------------------------------------------------------------------
# Ansible User
# -----------------------------------------------------------------------------

ansible_user_name     = "ansible"
ansible_ssh_public_key_path = "~/.ssh/ansible_rsa.pub"

# -----------------------------------------------------------------------------
# Tags
# -----------------------------------------------------------------------------

lxc_tags = ["lxc", "pbs", "backup"]
