---
# =============================================================================
# LXC Grafana Loki - Main Ansible Playbook
# =============================================================================
# Configures the LXC container with Grafana Loki log aggregation service

- name: Configure Grafana Loki LXC Container
  hosts: all
  become: true
  gather_facts: true

  vars:
    # Override these in group_vars or host_vars as needed
    base_packages:
      - curl
      - wget
      - gnupg
      - ca-certificates
      - apt-transport-https
      - python3
      - python3-pip
      - vim
      - htop
      - tree
      - jq

    base_timezone: "UTC"
    base_locale: "en_US.UTF-8"

  roles:
    - role: base
      tags: [base, always]
    - role: grafana_loki
      tags: [grafana_loki]
