# NetBox Configuration File
# Generated by Ansible - DO NOT EDIT MANUALLY
# This file is managed by configuration management

#########################
#                       #
#   Required settings   #
#                       #
#########################

# This is a list of valid fully-qualified domain names (FQDNs) for the NetBox server.
# For testing purposes, '*' allows all hosts. In production, use specific domains.
ALLOWED_HOSTS = [
    'localhost',
    '127.0.0.1',
    '{{ ansible_default_ipv4.address }}',
{% if netbox_allowed_hosts is defined and netbox_allowed_hosts | length > 0 %}
{% for host in netbox_allowed_hosts %}
    '{{ host }}',
{% endfor %}
{% endif %}
]

# CSRF trusted origins for reverse proxy configurations
# Required when accessing NetBox through a reverse proxy with HTTPS
CSRF_TRUSTED_ORIGINS = [
{% if netbox_csrf_trusted_origins is defined and netbox_csrf_trusted_origins | length > 0 %}
{% for origin in netbox_csrf_trusted_origins %}
    '{{ origin }}',
{% endfor %}
{% endif %}
]

# PostgreSQL database configuration
DATABASE = {
    'NAME': '{{ netbox_db_name }}',
    'USER': '{{ netbox_db_user }}',
    'PASSWORD': '{{ netbox_db_password }}',
    'HOST': 'localhost',
    'PORT': '',
    'CONN_MAX_AGE': 300,
}

# Redis database settings
REDIS = {
    'tasks': {
        'HOST': 'localhost',
        'PORT': 6379,
        'PASSWORD': '',
        'DATABASE': 0,
        'SSL': False,
    },
    'caching': {
        'HOST': 'localhost',
        'PORT': 6379,
        'PASSWORD': '',
        'DATABASE': 1,
        'SSL': False,
    }
}

# This key is used for secure generation of random numbers and strings.
# Must be at least 50 characters and contain a mix of letters, digits, and special characters.
SECRET_KEY = '{{ netbox_secret_key }}'

#########################
#                       #
#   Optional settings   #
#                       #
#########################

# Specify one or more name and email address tuples representing NetBox administrators.
# These people will be notified of application errors.
ADMINS = [
    # ['John Doe', 'jdoe@example.com'],
]

# Base URL path if hosting NetBox in a subdirectory.
BASE_PATH = ''

# Enable HTTP Strict Transport Security (HSTS)
SECURE_HSTS_SECONDS = 0
SECURE_HSTS_INCLUDE_SUBDOMAINS = False

# Set to True to enable server debugging. WARNING: Debugging introduces a substantial performance
# penalty and may reveal sensitive information about your installation. Only enable debugging
# while performing testing. Never enable debugging on a production system.
DEBUG = False

# Email settings
EMAIL = {
    'SERVER': 'localhost',
    'PORT': 25,
    'USERNAME': '',
    'PASSWORD': '',
    'USE_SSL': False,
    'USE_TLS': False,
    'TIMEOUT': 10,
    'FROM_EMAIL': '',
}

# Setting this to True will display a "maintenance mode" banner at the top of every page.
MAINTENANCE_MODE = False

# HTTP proxies NetBox should use when sending outbound HTTP requests (e.g. for webhooks).
# HTTP_PROXIES = {
#     'http': 'http://10.10.1.10:3128',
#     'https': 'http://10.10.1.10:1080',
# }

# IP addresses recognized as internal to the system.
INTERNAL_IPS = ('127.0.0.1', '::1')

# Enable custom logging
LOGGING = {}

# The file path where uploaded media files (such as image attachments) will be stored.
MEDIA_ROOT = '{{ netbox_install_dir }}/netbox/media'

# By default uploaded media is stored on the local filesystem.
# STORAGE_BACKEND = None
# STORAGE_CONFIG = {}

# Maximum number of days to retain logged changes. Set to 0 to retain changes indefinitely.
CHANGELOG_RETENTION = 90

# API Cross-Origin Resource Sharing (CORS) settings
CORS_ORIGIN_ALLOW_ALL = False
CORS_ORIGIN_WHITELIST = [
    # 'https://hostname.example.com',
]
CORS_ORIGIN_REGEX_WHITELIST = [
    # r'^(https?://)?(\w+\.)?example\.com$',
]

# Time zone for date/time display
TIME_ZONE = 'UTC'

# Date/time formatting
DATE_FORMAT = 'N j, Y'
SHORT_DATE_FORMAT = 'Y-m-d'
TIME_FORMAT = 'g:i a'
SHORT_TIME_FORMAT = 'H:i:s'
DATETIME_FORMAT = 'N j, Y g:i a'
SHORT_DATETIME_FORMAT = 'Y-m-d H:i'
