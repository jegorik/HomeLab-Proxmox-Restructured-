# =============================================================================
# Terraform Variables Configuration File - EXAMPLE
# =============================================================================
# Copy this file to terraform.tfvars and fill in your values.
# Sensitive values (like vault_password) should be set via environment variables.
#
# Usage:
#   cp terraform.tfvars.example terraform.tfvars
#   export TF_VAR_vault_password="your-vault-password"
#   tofu plan
#   tofu apply
# =============================================================================

# -----------------------------------------------------------------------------
# Vault Configuration
# -----------------------------------------------------------------------------

vault_address         = "https://vault.example.com:8200"
vault_username        = "your-vault-username"
vault_skip_tls_verify = true

# Vault secret paths (adjust to your Vault structure)
proxmox_api_token_vault_path     = "path/to/proxmox_api_token"
proxmox_endpoint_vault_path      = "path/to/proxmox_endpoint"
proxmox_node_name_vault_path     = "path/to/proxmox_node_name"
proxmox_user_name_vault_path     = "path/to/proxmox_user"
proxmox_root_name_vault_path     = "path/to/proxmox_root"
proxmox_root_password_vault_path = "path/to/pve_root_password"
s3_bucket_name_vault_path        = "path/to/s3_bucket"
root_ssh_public_key_path         = "path/to/root_ssh_public_key"
root_ssh_private_key_path        = "path/to/root_ssh_private_key"
ansible_ssh_public_key_path      = "path/to/ansible_ssh_public_key"
ephemeral_vault_mount_path       = "secrets/"
netbox_api_token_vault_path      = "netbox_api_token"


# -----------------------------------------------------------------------------
# AWS Configuration
# -----------------------------------------------------------------------------

aws_region = "us-east-1"

# -----------------------------------------------------------------------------
# Proxmox Configuration
# -----------------------------------------------------------------------------

connection_insecure = true
ssh_agent_enabled   = true

# -----------------------------------------------------------------------------
# NPM LXC Container Configuration
# -----------------------------------------------------------------------------

lxc_id            = 100
lxc_hostname      = "npm"
lxc_description   = "Nginx Proxy Manager - Managed by OpenTofu"
lxc_ip_address    = "10.0.0.100/24"
lxc_gateway       = "10.0.0.1"
lxc_dns_servers   = "8.8.8.8 8.8.4.4"
lxc_start_on_boot = true
lxc_unprivileged  = true   # Set to false if bind mounts require privileged access
lxc_disk_storage  = "local-lvm"
lxc_disk_size     = 8
lxc_cpu_cores     = 2
lxc_memory        = 2048
lxc_swap          = 512
lxc_tags          = ["lxc", "npm", "proxy", "tofu-managed"]

# Bind mount configuration for data persistence
# Host directory must exist before container creation
lxc_npm_data_mount_volume = "/path/to/npm-data"
lxc_npm_data_mount_path   = "/data"

# -----------------------------------------------------------------------------
# Encryption Configuration
# -----------------------------------------------------------------------------

transit_key_name    = "your-encryption-key-name"
transit_engine_path = "transit"
transit_key_length  = 32


# -----------------------------------------------------------------------------
# NetBox Configuration
# -----------------------------------------------------------------------------

netbox_url = "https://netbox.example.com"
# netbox_api_token = ""  # Leave empty to fetch from Vault

cluster_name = "Clustr_01"
site_name    = "Site_01"
device_id    = 1
vrf_name     = "VRF_01"
tenant_name  = "Tenant_01"